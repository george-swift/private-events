<h1>All Events</h1>
<h2>Displays all private events sorted by time</h2>

<div>
  <h3>Upcoming Events</h3>

  <div class="container">
    <div class="row">
    <% @events.upcoming.each do |event| %>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title"><%= link_to event.name, event_path(event) %></h4>
          </div>
          <div class="card-body">
            <p class="card-text"><%= event.description.truncate_words(12) %></p>
            <p class="details text-muted">
              &bull;&nbsp;Date: &nbsp;<%= event.date.to_formatted_s(:long_ordinal) %><br>
              &bull;&nbsp;Created by: &nbsp;<%= event.creator.name %>
            </p>
            <% if logged_in? %>
              <%= link_to 'Register', registrations_path(:event_id => event.id, :invited_users => [current_user.id]), 
              class: "btn btn-success #{disable(current_user, event.id)}", method: :post %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
    </div>
  </div>

  <h3>Previous Attended Events</h3>

  <div class="container">
    <div class="row">
    <% @events.previous.each do |event| %>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title"><%= link_to event.name, event_path(event) %></h4>
          </div>
          <div class="card-body">
            <p class="card-text"><%= event.description.truncate_words(12) %></p>
            <p class="details text-muted">
              &bull;&nbsp;Date: &nbsp;<%= event.date.to_formatted_s(:long_ordinal) %><br>
              &bull;&nbsp;Created by: &nbsp;<%= event.creator.name %>
            </p>
            <% if logged_in? %>
              <%= link_to 'Register', registrations_path(:event_id => event.id, :invited_users => [current_user.id]), 
              class: "btn btn-success #{disable(current_user, event.id)}", method: :post %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
    </div>
  </div>
</div>


